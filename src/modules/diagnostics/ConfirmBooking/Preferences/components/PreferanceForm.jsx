import SelectField from "@components/SelectField";
import TextField from "@components/TextField";

import React from 'react';
import { usePackageBookingContext } from "../../../../../contexts/PackageBookingContext";


function PreferanceForm() {
   const { state, dispatch } = usePackageBookingContext();
  const selectedVisitType = state.visitType
  console.log(selectedVisitType)

  const handleVisitCardClick = (visitType) => {
    dispatch({type:'SET_VISIT_TYPE',payload:visitType})

  }

  const handlePreferenceOnChange = (e) => {
    debugger
    console.log(e.target.name,e.target.value)
    dispatch({ type: 'SET_PREFERANCE', payload: { [e.target.name]: e.target.value } })
  }

  const items = [
    {
      title: "Centre Visit",
      content: 'Quick and easy collection at your preferred location',
      icon: <svg
        width={70}
        height={70}
        viewBox="0 0 70 70"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className=" w-[68.75px] h-[70px] relative"
        preserveAspectRatio="xMidYMid meet"
      >
        <path
          d="M66.5789 68.1413L3.41343 68.1082C3.16703 68.1082 2.93072 68.0085 2.75649 67.8311C2.58226 67.6537 2.48438 67.4131 2.48438 67.1622V7.56762C2.48438 7.31674 2.58226 7.07613 2.75649 6.89873C2.93072 6.72133 3.16703 6.62167 3.41343 6.62167H21.9945V8.51356H4.34248V66.2163L65.6498 66.2484V8.53248L48.008 8.50127V6.60938L66.578 6.64248C66.8244 6.64248 67.0607 6.74215 67.2349 6.91954C67.4091 7.09694 67.507 7.33755 67.507 7.58843V67.1953C67.507 67.4462 67.4091 67.6868 67.2349 67.8642C67.0607 68.0416 66.8253 68.1413 66.5789 68.1413Z"
          fill="#E77E3A"
        />
        <path
          d="M48.0051 29.324H21.9916C21.7452 29.324 21.5088 29.2244 21.3346 29.047C21.1604 28.8696 21.0625 28.629 21.0625 28.3781V2.83755C21.0625 2.58667 21.1604 2.34606 21.3346 2.16866C21.5088 1.99126 21.7452 1.8916 21.9916 1.8916H48.0051C48.2515 1.8916 48.4878 1.99126 48.662 2.16866C48.8362 2.34606 48.9341 2.58667 48.9341 2.83755V28.3781C48.9341 28.629 48.8362 28.8696 48.662 29.047C48.4878 29.2244 48.2515 29.324 48.0051 29.324ZM22.9206 27.4321H47.076V3.78349H22.9206V27.4321Z"
          fill="#E77E3A"
        />
        <path
          d="M52.1889 68.1084H17.9876C17.7412 68.1084 17.5049 68.0087 17.3307 67.8313C17.1565 67.6539 17.0586 67.4133 17.0586 67.1624V61.4499C17.0586 61.199 17.1565 60.9584 17.3307 60.781C17.5049 60.6036 17.7412 60.5039 17.9876 60.5039H52.1889C52.4353 60.5039 52.6716 60.6036 52.8459 60.781C53.0201 60.9584 53.118 61.199 53.118 61.4499V67.1624C53.118 67.4133 53.0201 67.6539 52.8459 67.8313C52.6716 68.0087 52.4353 68.1084 52.1889 68.1084ZM18.9167 66.2165H51.2599V62.3958H18.9167V66.2165Z"
          fill="#E77E3A"
        />
        <path
          d="M46.1497 62.4321H23.8626C23.6162 62.4321 23.3799 62.3325 23.2057 62.1551C23.0315 61.9777 22.9336 61.7371 22.9336 61.4862V37.8375C22.9336 37.5867 23.0315 37.3461 23.2057 37.1687C23.3799 36.9913 23.6162 36.8916 23.8626 36.8916H46.1497C46.3961 36.8916 46.6324 36.9913 46.8067 37.1687C46.9809 37.3461 47.0788 37.5867 47.0788 37.8375V61.4862C47.0788 61.7371 46.9809 61.9777 46.8067 62.1551C46.6324 62.3325 46.3961 62.4321 46.1497 62.4321ZM24.7917 60.5403H45.2207V38.7835H24.7917V60.5403Z"
          fill="#E77E3A"
        />
        <path d="M34.0703 37.8379H35.9284V61.4865H34.0703V37.8379Z" fill="#E77E3A" />
        <path
          d="M37.789 24.595H32.2146C31.9682 24.595 31.7319 24.4954 31.5577 24.318C31.3835 24.1406 31.2856 23.9 31.2856 23.6491V19.3923H27.1048C26.8584 19.3923 26.6221 19.2927 26.4479 19.1153C26.2737 18.9379 26.1758 18.6973 26.1758 18.4464V12.7707C26.1758 12.5198 26.2737 12.2792 26.4479 12.1018C26.6221 11.9244 26.8584 11.8248 27.1048 11.8248H31.2856V7.56802C31.2856 7.31714 31.3835 7.07653 31.5577 6.89913C31.7319 6.72173 31.9682 6.62207 32.2146 6.62207H37.789C38.0354 6.62207 38.2717 6.72173 38.4459 6.89913C38.6201 7.07653 38.718 7.31714 38.718 7.56802V11.8248H42.8988C43.1452 11.8248 43.3815 11.9244 43.5557 12.1018C43.7299 12.2792 43.8278 12.5198 43.8278 12.7707V18.4464C43.8278 18.6973 43.7299 18.9379 43.5557 19.1153C43.3815 19.2927 43.1452 19.3923 42.8988 19.3923H38.718V23.6491C38.718 23.9 38.6201 24.1406 38.4459 24.318C38.2717 24.4954 38.0354 24.595 37.789 24.595ZM33.1437 22.7032H36.8599V18.4464C36.8599 18.1955 36.9578 17.9549 37.132 17.7775C37.3062 17.6001 37.5426 17.5004 37.789 17.5004H41.9697V13.7167H37.789C37.5426 13.7167 37.3062 13.617 37.132 13.4396C36.9578 13.2622 36.8599 13.0216 36.8599 12.7707V8.51396H33.1437V12.7707C33.1437 13.0216 33.0458 13.2622 32.8716 13.4396C32.6973 13.617 32.461 13.7167 32.2146 13.7167H28.0339V17.5004H32.2146C32.461 17.5004 32.6973 17.6001 32.8716 17.7775C33.0458 17.9549 33.1437 18.1955 33.1437 18.4464V22.7032Z"
          fill="#E77E3A"
        />
        <path d="M52.6523 17.0273H61.9429V18.9192H52.6523V17.0273Z" fill="#E77E3A" />
        <path d="M52.6523 27.4326H61.9429V29.3245H52.6523V27.4326Z" fill="#E77E3A" />
        <path d="M52.6523 37.8379H61.9429V39.7298H52.6523V37.8379Z" fill="#E77E3A" />
        <path d="M52.6523 48.2432H61.9429V50.1351H52.6523V48.2432Z" fill="#E77E3A" />
        <path d="M8.05859 17.0273H17.3491V18.9192H8.05859V17.0273Z" fill="#E77E3A" />
        <path d="M8.05859 27.4326H17.3491V29.3245H8.05859V27.4326Z" fill="#E77E3A" />
        <path d="M8.05859 37.8379H17.3491V39.7298H8.05859V37.8379Z" fill="#E77E3A" />
        <path d="M8.05859 48.2432H17.3491V50.1351H8.05859V48.2432Z" fill="#E77E3A" />
      </svg>
    },
    {
      title: "Home Visit",
      content: 'Sample Collection at your doorstep, saving you time and effort',
      icon: <svg
        width={70}
        height={70}
        viewBox="0 0 70 70"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className=" w-[70px] h-[70px] relative"
        preserveAspectRatio="xMidYMid meet"
      >
        <path
          d="M64.5307 57.0128C64.5323 56.9665 64.5331 56.9206 64.5331 56.875C64.5318 55.7151 64.0705 54.603 63.2503 53.7828C62.4301 52.9627 61.318 52.5013 60.1581 52.5V32.2656L64.0956 29.3125C64.2324 29.2099 64.3432 29.0767 64.4191 28.9236C64.4951 28.7705 64.5341 28.6017 64.5331 28.4307C64.532 28.2598 64.4909 28.0915 64.413 27.9393C64.3352 27.7871 64.2227 27.6553 64.0847 27.5544L54.6894 20.6886V8.75C54.9794 8.75 55.2576 8.63477 55.4628 8.42965C55.6679 8.22453 55.7831 7.94633 55.7831 7.65625V3.28125C55.7831 2.99117 55.6679 2.71297 55.4628 2.50785C55.2576 2.30273 54.9794 2.1875 54.6894 2.1875H43.7519C43.4618 2.1875 43.1836 2.30273 42.9785 2.50785C42.7733 2.71297 42.6581 2.99117 42.6581 3.28125V7.65625C42.6581 7.94633 42.7733 8.22453 42.9785 8.42965C43.1836 8.63477 43.4618 8.75 43.7519 8.75V12.6958L35.6472 6.77318C35.4599 6.6363 35.2339 6.56253 35.0019 6.56253C34.7699 6.56253 34.5439 6.6363 34.3566 6.77318L5.91905 27.5544C5.78104 27.6553 5.66858 27.7871 5.59071 27.9393C5.51284 28.0915 5.47172 28.2598 5.47066 28.4307C5.4696 28.6017 5.50861 28.7705 5.58459 28.9236C5.66056 29.0767 5.77136 29.2099 5.90812 29.3125L9.84562 32.2656V52.5C8.68569 52.5013 7.57365 52.9627 6.75346 53.7828C5.93327 54.603 5.47192 55.7151 5.47062 56.875C5.47062 56.9206 5.47144 56.9665 5.47308 57.0128C4.44125 57.2781 3.54168 57.9108 2.94316 58.7922C2.34463 59.6736 2.08829 60.743 2.22222 61.8C2.35615 62.8569 2.87115 63.8287 3.67059 64.5329C4.47003 65.2371 5.49898 65.6255 6.56437 65.625H63.4394C64.5048 65.6255 65.5337 65.2371 66.3331 64.5329C67.1326 63.8287 67.6476 62.8569 67.7815 61.8C67.9154 60.743 67.6591 59.6736 67.0606 58.7922C66.4621 57.9108 65.5625 57.2781 64.5307 57.0128ZM44.8456 4.375H53.5956V6.5625H44.8456V4.375ZM45.9394 14.2188V8.75H52.5019V19.09L45.8359 14.2188H45.9394ZM35.0019 9.01086L61.6012 28.449L59.0544 30.3591L35.6453 13.3342C35.4583 13.1982 35.2331 13.1249 35.0019 13.1249C34.7707 13.1249 34.5454 13.1982 34.3585 13.3342L10.9493 30.3591L8.40255 28.449L35.0019 9.01086ZM4.37687 61.25C4.37747 60.6757 4.60365 60.1246 5.00667 59.7154C5.4097 59.3063 5.95731 59.0718 6.53155 59.0625H6.53415C6.59007 59.0703 6.64599 59.077 6.703 59.0807C6.88425 59.0921 7.0655 59.0583 7.23038 58.9821C7.39526 58.906 7.5386 58.79 7.64744 58.6446C7.75629 58.4992 7.82722 58.329 7.85383 58.1494C7.88045 57.9697 7.86191 57.7863 7.79989 57.6156C7.70938 57.379 7.66138 57.1283 7.65812 56.875C7.6588 56.2951 7.88949 55.739 8.29958 55.329C8.70967 54.9189 9.26567 54.6882 9.84562 54.6875V63.4375H6.56437C5.98442 63.4368 5.42842 63.2061 5.01833 62.796C4.60824 62.386 4.37755 61.8299 4.37687 61.25ZM51.4081 63.4375H38.2831V39.375H51.4081V63.4375ZM53.5956 63.4375V38.2812C53.5956 37.9912 53.4804 37.713 53.2753 37.5079C53.0701 37.3027 52.7919 37.1875 52.5019 37.1875H37.1894C36.8993 37.1875 36.6211 37.3027 36.416 37.5079C36.2108 37.713 36.0956 37.9912 36.0956 38.2812V63.4375H12.0331V32.2757L35.0019 15.5712L57.9706 32.2757V63.4375H53.5956ZM63.4394 63.4375H60.1581V54.6875C60.7381 54.6882 61.2941 54.9189 61.7042 55.329C62.1142 55.739 62.3449 56.2951 62.3456 56.875C62.3424 57.1285 62.2944 57.3794 62.2038 57.6161C62.1418 57.7868 62.1233 57.9703 62.1499 58.1499C62.1765 58.3296 62.2474 58.4998 62.3563 58.6452C62.4651 58.7906 62.6085 58.9065 62.7734 58.9827C62.9382 59.0588 63.1195 59.0927 63.3007 59.0812C63.3577 59.0775 63.4137 59.0708 63.4696 59.063H63.4722C64.0523 59.0674 64.607 59.302 65.0142 59.7154C65.4213 60.1287 65.6476 60.6868 65.6433 61.267C65.6389 61.8471 65.4043 62.4018 64.991 62.8089C64.5777 63.2161 64.0195 63.4424 63.4394 63.438V63.4375Z"
          fill="#E77E3A"
        />
        <path
          d="M30.625 37.1875H17.5C17.2099 37.1875 16.9317 37.3027 16.7266 37.5079C16.5215 37.713 16.4062 37.9912 16.4062 38.2812V53.5938C16.4062 53.8838 16.5215 54.162 16.7266 54.3671C16.9317 54.5723 17.2099 54.6875 17.5 54.6875H30.625C30.9151 54.6875 31.1933 54.5723 31.3984 54.3671C31.6035 54.162 31.7188 53.8838 31.7188 53.5938V38.2812C31.7188 37.9912 31.6035 37.713 31.3984 37.5079C31.1933 37.3027 30.9151 37.1875 30.625 37.1875ZM29.5312 44.8438H25.1562V39.375H29.5312V44.8438ZM22.9688 39.375V44.8438H18.5938V39.375H22.9688ZM18.5938 47.0312H22.9688V52.5H18.5938V47.0312ZM25.1562 52.5V47.0312H29.5312V52.5H25.1562Z"
          fill="#E77E3A"
        />
        <path
          d="M42.5724 50.7309C42.8035 50.1728 42.5385 49.533 41.9804 49.3019C41.4223 49.0707 40.7825 49.3357 40.5514 49.8938C40.3202 50.4519 40.5852 51.0917 41.1433 51.3229C41.7014 51.554 42.3412 51.289 42.5724 50.7309Z"
          fill="#E77E3A"
        />
      </svg>
    }
  ]

  return <div
    className="flex mb-6 flex-col self-stretch gap-2.5 p-8 rounded-[20px] bg-white border border-[#e77e3a] "
    style={{ boxShadow: "0px 4px 20px 0 rgba(231,126,58,0.2)" }}
  >

    <div className="flex justify-start items-start  w-[404px] gap-0.5">
      <div className="flex flex-col justify-center items-start  gap-0.5">
        <div className="flex justify-start items-center  relative gap-2.5">
          <p className=" text-2xl font-bold text-left text-[#7baed5]">
            Preferred Visit:
          </p>
        </div>
      </div>
    </div>


    <div className="pt-6">
      <p className="text-[22px] font-semibold text-left capitalize text-[#e77e3a]">
        Select Preferences:
      </p>
    </div>



    <div className="flex gap-8 jusify-between w-full">
      {
        items?.map(item => {
          return <div
          onClick={()=> handleVisitCardClick(item?.title)}
            className={"w-full cursor-pointer flex justify-between items-center overflow-hidden gap-2.5 rounded-[10px]  border  px-8 py-6 " + ((selectedVisitType == item?.title) ? ' bg-[#fdf2ec]  border-[#e77e3a]' : 'border-[#BDBDBD]')}
            style={{ boxShadow: (selectedVisitType == item?.title) ? '0px 4px 10px 0 rgba(231,126,58,0.2)' : '' }}
          >
            <div className="flex justify-center items-center  relative gap-8">
              <div>
                {item?.icon}
              </div>

              <div className="flex flex-col justify-start    relative gap-2.5">
                <p p className={" text-2xl font-bold text-left  " + ((selectedVisitType == item?.title) ? 'text-[#e77e3a]' : 'text-[#656565]')}>
                  {item?.title}
                </p>
                <p className="  text-lg text-left text-[#656565]">
                  {item?.content}
                </p>
              </div>



            </div>
          </div>
        })
      }
    </div>


    <div className="mt-6 gap-6  grid grid-cols-3">

      <SelectField
        value={state.preferance.location}
        defaultOptionLabel="Select Preferred Location"
        className="text-left w-full"
        selectClassName="w-full"
        id="location"
        name='location'
        onChange={handlePreferenceOnChange}
      >
        <option value="option1">Option 1</option>
        <option value="option2">Option 2</option>
        <option value="option3">Option 3</option>
      </SelectField>

      <SelectField
      name='clinic'
        defaultOptionLabel="Select Preferred Clinic"
        className="text-left w-full"
        selectClassName="w-full"
        id="clinic"
        
        onChange={handlePreferenceOnChange}
      >
        <option value="option1">Option 1</option>
        <option value="option2">Option 2</option>
        <option value="option3">Option 3</option>
      </SelectField>

      <SelectField
        name='timeSlot'
        defaultOptionLabel="Select Preferred Time Slot"
        className="text-left w-full"
        selectClassName="w-full"
        id="timeSlot"
        onChange={handlePreferenceOnChange}
      >
        <option value="option1">Option 1</option>
        <option value="option2">Option 2</option>
        <option value="option3">Option 3</option>
      </SelectField>

    </div>

    <div className="mt-6 grid grid-cols-3 gap-6">
      <TextField
         type="text"
        placeholder="Enter pincode"
        className="w-full"
        id="pincode"
        name='pincode'
        onChange={handlePreferenceOnChange}

      />

      

      <div className='w-1/3' />

      <div >
        <button className="w-full py-2 flex justify-center items-center    relative  rounded-[40px] bg-[#e77e3a]">
          <p className=" text-lg font-semibold text-center text-white">Continue</p>
        </button>
      </div>

    </div>
  </div>
}

export default PreferanceForm